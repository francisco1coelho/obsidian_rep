DataTone - falar disto, do NL4DV e do NL2VIS em particular, que é o que é usado para a geração de gráficos
Eviza

NL2SQL

Se calhar em vez de ser NL para dashboard passa a ser NL para SQL, acho que faz mais sentido




# Motor NL→Dashboard (parsing e validação)

**Explorar:** NL2VIS/NL2SQL, LLMs com output estruturado (JSON Schema/grammar), “function calling”.  
**Provável gap:** mapeamento robusto de linguagem natural para a tua ontologia (sinónimos e ambiguidades).  
**MVP/Experimentos:** prompts → JSON de “dashboard-config” com validação por schema + fallback de perguntas de reparo.


##### NL2VIS “clássico” + gramática de visualização (DataTone / NL4DV / Articulate → Vega/Vega-Lite)

**O que é:** interpretadores NL→especificações analíticas/visuais (JSON) com **widgets de desambiguação** e regras explícitas para mapear campos, operações e marcas. Normalmente emitem **Vega/Vega-Lite**.  
**Vantagens:**

- Gestão de **ambiguidade com UI** (ambiguity widgets) e correções que persistem como restrições. [cond.org+1](https://www.cond.org/DataTone-cr.pdf?utm_source=chatgpt.com)
    
- Saída **estruturada** (JSON de espec. analítica/visual), fácil de validar e renderizar. [nl4dv.github.io+2Vega+2](https://nl4dv.github.io/?utm_source=chatgpt.com)  
    **Desvantagens:**
    
- Regras/gramática podem ser **rígidas**; adaptar a novos domínios/ontologias exige curadoria. [narechania.com](https://narechania.com/docs/publications/nl4dv_vis_2020.pdf?utm_source=chatgpt.com)  
    **Referências-chave:** DataTone (CHI’16), NL4DV (TVCG), Articulate/Articulate+. [cond.org+2narechania.com+2](https://www.cond.org/DataTone-cr.pdf?utm_source=chatgpt.com)


##### LLM com **structured output** (JSON Schema/grammar) + **function calling**

**O que é:** usar um LLM para gerar um **`dashboard-config` JSON** (campos, métricas, filtros, gráficos…), **forçando o formato** via **Structured Outputs/JSON Schema** e acionando passos seguintes via **function calling**.  
**Vantagens:**

- **Flexível** para linguagem natural real; **validação forte** (schema) evita JSON inválido e facilita pipelines determinísticos. [OpenAI Platform+1](https://platform.openai.com/docs/guides/structured-outputs?utm_source=chatgpt.com)
    
- **Ferramentas oficiais** e “enterprise” (OpenAI / Azure OpenAI) + ecossistema de _guardrails_. [OpenAI Platform+2Microsoft Learn+2](https://platform.openai.com/docs/guides/function-calling?utm_source=chatgpt.com)  
    **Desvantagens:**
    
- Continua a requerer **validação semântica** (campos/metrics válidos na tua ontologia) e, se falhar, **“re-ask”** controlado. (Usa Guardrails/pydantic/validadores.) [guardrails+1](https://guardrailsai.com/docs/hub/how_to_guides/structured_data_validation?utm_source=chatgpt.com)  
    **Referências-chave:** OpenAI **Structured Outputs** / **Function Calling**; Azure OpenAI; Guardrails. [guardrails+4OpenAI Platform+4OpenAI Platform+4](https://platform.openai.com/docs/guides/structured-outputs?utm_source=chatgpt.com)


##### Híbrido **LLM + camada semântica/ontologia** com **desambiguação conversacional**

**O que é:** o LLM propõe o `dashboard-config` → **valida** contra a tua **ontologia de métricas/dimensões**; quando há conflito/sinónimo ambíguo, **pergunta de reparo** (ao estilo DataTone) e **regera** o JSON conforme as respostas.  
**Vantagens:**

- **Mapeamento robusto** a métricas do contact center (AHT, ASA, SL…), reduzindo “drift” entre linguagem do utilizador e nomes oficiais. [Yuyu Luo (骆昱宇)+1](https://luoyuyu.vip/files/NL2VIS_Survey.pdf?utm_source=chatgpt.com)
    
- Mantém a **UX de diálogo** e herda o melhor dos dois mundos (widgets + LLM). [cond.org](https://www.cond.org/DataTone-cr.pdf?utm_source=chatgpt.com)  
    **Desvantagens:**
    
- Precisa de **catálogo/ontologia** bem mantido e de um ciclo de **re-ask** orquestrado (guardrails + validação incremental). [Tredence+1](https://www.tredence.com/blog/ai-guardrails-types-tools-detection?utm_source=chatgpt.com)  
    **Referências-apoio:** survey NL2VIS/ambiguidades; NL4DV-LLM (prompt para specs); DataTone para padrão de “re-ask”. [Yuyu Luo (骆昱宇)+2arXiv+2](https://luoyuyu.vip/files/NL2VIS_Survey.pdf?utm_source=chatgpt.com)